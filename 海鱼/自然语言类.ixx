export module 自然语言树模块;

import <string>;
import <vector>;

import 主信息定义模块;   // 提供：自然语言成分基类 等
import 语素模块;         // 提供：词性节点类
import 世界树模块;       // 提供：节点类, 场景节点类, 状态节点类, 动态节点类, 因果节点类 等
import 模板模块;

// ===================================
//  自然语言树类：文章 → 段落 → 自然句 → 子句
//  注意：这里只给出接口 & 约定，不强行操作你的 节点类 结构。
//  在实现里，请直接调用你现有的“添加节点”函数来挂接节点。
// ===================================

export class 自然语言树类 :public 链表模板<自然语言成分基类*>{
public:
    // 可以看作“文章根链”的起点
    文章节点类* 文章根指针 = 根指针;

    自然语言树类() = default;

    // 创建一篇新文章，并挂到 文章根链 上
    // 具体挂接逻辑：请在实现里调用你现有的 添加节点(...)
    文章节点类* 新建文章(const std::string& 标题, const std::string& 原文);


    // 在某文章下添加一个新段落
    段落节点类* 添加段落(文章节点类* 文章节点,
        std::size_t       在文章中的序号,
        const std::string& 段落文本);

    // 在某段落下添加一个自然句（外部已经做完分词）
    自然句节点类* 添加自然句(
        段落节点类* 段落节点,
        std::size_t                  在段落中的序号,
        const std::vector<词性节点类*>& 词序列,
        const std::string& 原句文本);

    // 在某自然句下添加一个子句节点
    // 子句主信息的 起始词索引 / 结束词索引 / 原子结构类型 由外部（比如 语言知识库模块）计算好传进来
    子句节点类* 添加子句(自然句节点类* 自然句节点,子句主信息类* 子句主信息);

    // 你也可以在这里加上一些遍历函数，比如：
    // - 遍历整篇文章所有自然句
    // - 遍历某自然句的所有子句
    // - 根据世界树节点反查对应的子句等
};

