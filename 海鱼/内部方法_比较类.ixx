export module 内部方法_比较模块;

import 世界树模块;
import 特征值模块;     // 为了用 计算矢量相似度 等工具
import 主信息定义模块; // 包含 枚举_特征类型 / 节点类 / 二次特征主信息基类 等
import 基础数据类型模块;

import <map>;
import <vector>;

export class 内部方法_比较类 {
public:
    
    // 比较两个“存在节点”，返回一个“存在比较（二次特征）”节点
    static 基础信息节点类* 比较存在(
        基础信息节点类* 存在A,
        基础信息节点类* 存在B,
        世界树类& 世界树);

private:
    // 比较某一种“特征类型”的特征子链，生成一个二次特征节点（挂在父二次特征下）
    static 基础信息节点类* 比较特征类型子链(
        基础信息节点类* 父二次特征节点,
        const std::vector<基础信息节点类*>& 特征A列表,
        const std::vector<基础信息节点类*>& 特征B列表,
        特征节点类* 特征类型,
        世界树类& 世界树);

    // 比较单个特征节点对：根据特征值类型选择不同算法
    static 基础信息节点类* 比较单个特征(
        基础信息节点类* 父二次特征节点,
        基础信息节点类* 特征A,
        基础信息节点类* 特征B,
        特征节点类* 特征类型,
        世界树类& 世界树);
};
